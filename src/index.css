@tailwind base;
@tailwind components;
@tailwind utilities;

/* Custom animations */
@keyframes slideInUp {
  from {
    transform: translateY(100%);
    opacity: 0;
  }
  to {
    transform: translateY(0);
    opacity: 1;
  }
}

@keyframes slideInUpFast {
  from {
    transform: translateY(50%);
    opacity: 0;
  }
  to {
    transform: translateY(0);
    opacity: 1;
  }
}

@keyframes fadeIn {
  from {
    opacity: 0;
  }
  to {
    opacity: 1;
  }
}

@keyframes fadeInUp {
  from {
    opacity: 0;
    transform: translateY(20px);
  }
  to {
    opacity: 1;
    transform: translateY(0);
  }
}

@keyframes scaleIn {
  from {
    transform: scale(0.9);
    opacity: 0;
  }
  to {
    transform: scale(1);
    opacity: 1;
  }
}

@keyframes bounce-slow {
  0%, 100% {
    transform: translateY(0);
  }
  50% {
    transform: translateY(-10px);
  }
}

@keyframes pulse {
  0%, 100% {
    opacity: 1;
  }
  50% {
    opacity: 0.5;
  }
}

@keyframes heartbeat {
  0%, 100% {
    transform: scale(1);
    filter: brightness(1);
  }
  25% {
    transform: scale(1.05);
    filter: brightness(1.2);
  }
  50% {
    transform: scale(1.1);
    filter: brightness(1.4);
  }
  75% {
    transform: scale(1.05);
    filter: brightness(1.2);
  }
}

/* Animation classes */
.animate-slideInUp {
  animation: slideInUp 0.6s ease-out;
}

.animate-slideInUpFast {
  animation: slideInUpFast 0.3s ease-out;
}

.animate-fadeIn {
  animation: fadeIn 0.5s ease-in;
}

.animate-scaleIn {
  animation: scaleIn 0.3s ease-out;
}

.animate-bounce-slow {
  animation: bounce-slow 2s ease-in-out infinite;
}

.animate-pulse {
  animation: pulse 2s cubic-bezier(0.4, 0, 0.6, 1) infinite;
}

/* Custom scrollbar */
.custom-scrollbar::-webkit-scrollbar {
  width: 8px;
}

.custom-scrollbar::-webkit-scrollbar-track {
  background: #f1f1f1;
  border-radius: 4px;
}

.custom-scrollbar::-webkit-scrollbar-thumb {
  background: #888;
  border-radius: 4px;
}

.custom-scrollbar::-webkit-scrollbar-thumb:hover {
  background: #555;
}

/* Firefox scrollbar */
.custom-scrollbar {
  scrollbar-width: thin;
  scrollbar-color: #888 #f1f1f1;
}

/* Accessibility and Focus Management */
@layer utilities {
  /* Screen reader only content */
  .sr-only {
    position: absolute;
    width: 1px;
    height: 1px;
    padding: 0;
    margin: -1px;
    overflow: hidden;
    clip: rect(0, 0, 0, 0);
    white-space: nowrap;
    border: 0;
  }

  /* Focus visible styles for better accessibility */
  .focus-visible:focus {
    outline: 2px solid #3F72AF;
    outline-offset: 2px;
  }

  /* High contrast focus styles */
  .focus-high-contrast:focus {
    outline: 3px solid #000;
    outline-offset: 2px;
  }

  /* Reduced motion support */
  @media (prefers-reduced-motion: reduce) {
    *,
    *::before,
    *::after {
      animation-duration: 0.01ms !important;
      animation-iteration-count: 1 !important;
      transition-duration: 0.01ms !important;
      scroll-behavior: auto !important;
    }
  }

  /* High contrast mode support */
  @media (prefers-contrast: high) {
    .bg-white\/20 {
      background-color: rgba(255, 255, 255, 0.4);
    }
    
    .text-white\/70 {
      color: rgba(255, 255, 255, 0.9);
    }
    
    .border-white\/20 {
      border-color: rgba(255, 255, 255, 0.6);
    }
  }

  /* Dark mode support for better accessibility */
  @media (prefers-color-scheme: dark) {
    .bg-white\/10 {
      background-color: rgba(255, 255, 255, 0.15);
    }
  }

  /* Focus ring utilities */
  .focus-ring {
    @apply focus:outline-none focus:ring-4 focus:ring-[#3F72AF]/30 focus:ring-offset-2 focus:ring-offset-[#112D4E];
  }

  .focus-ring-white {
    @apply focus:outline-none focus:ring-4 focus:ring-white/50 focus:ring-offset-2 focus:ring-offset-[#112D4E];
  }

  /* Skip link styles */
  .skip-link {
    @apply sr-only focus:not-sr-only focus:absolute focus:top-4 focus:left-4 bg-[#3F72AF] text-white px-4 py-2 rounded-lg z-50 focus:outline-none focus:ring-4 focus:ring-white/50;
  }

  /* Touch target sizing for mobile accessibility */
  .touch-target {
    @apply min-h-[44px] min-w-[44px];
  }

  /* Semantic color utilities for better contrast */
  .text-primary {
    @apply text-[#112D4E];
  }

  .text-secondary {
    @apply text-[#3F72AF];
  }

  .text-accent {
    @apply text-[#FF6B35];
  }

  .bg-primary {
    @apply bg-[#112D4E];
  }

  .bg-secondary {
    @apply bg-[#3F72AF];
  }

  .bg-accent {
    @apply bg-[#FF6B35];
  }

  /* Mobile-first responsive utilities */
  .mobile-container {
    @apply px-4 sm:px-6 lg:px-8 xl:px-12;
  }

  .mobile-text {
    @apply text-sm sm:text-base lg:text-lg xl:text-xl;
  }

  .mobile-heading {
    @apply text-2xl sm:text-3xl md:text-4xl lg:text-5xl xl:text-6xl;
  }

  .mobile-padding {
    @apply p-4 sm:p-6 lg:p-8 xl:p-12;
  }

  .mobile-margin {
    @apply m-4 sm:m-6 lg:m-8 xl:m-12;
  }

  .mobile-gap {
    @apply gap-4 sm:gap-6 lg:gap-8 xl:gap-12;
  }

  .mobile-rounded {
    @apply rounded-lg sm:rounded-xl lg:rounded-2xl xl:rounded-3xl;
  }

  /* Mobile grid utilities */
  .mobile-grid {
    @apply grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4;
  }

  .mobile-grid-2 {
    @apply grid-cols-1 lg:grid-cols-2;
  }

  .mobile-grid-3 {
    @apply grid-cols-1 sm:grid-cols-2 lg:grid-cols-3;
  }

  /* Mobile spacing utilities */
  .mobile-space-y {
    @apply space-y-4 sm:space-y-6 lg:space-y-8 xl:space-y-12;
  }

  .mobile-space-x {
    @apply space-x-4 sm:space-x-6 lg:space-x-8 xl:space-x-12;
  }

  /* Mobile button utilities */
  .mobile-button {
    @apply px-4 sm:px-6 lg:px-8 xl:px-12 py-2.5 sm:py-3 lg:py-4 xl:py-5 text-sm sm:text-base lg:text-lg;
  }

  .mobile-button-small {
    @apply px-3 sm:px-4 lg:px-6 xl:px-8 py-2 sm:py-2.5 lg:py-3 xl:py-4 text-xs sm:text-sm lg:text-base;
  }

  /* Mobile form utilities */
  .mobile-input {
    @apply px-3 sm:px-4 py-2.5 sm:py-3 text-sm sm:text-base rounded-lg sm:rounded-xl;
  }

  .mobile-label {
    @apply text-sm sm:text-base font-semibold mb-2;
  }

  /* Mobile card utilities */
  .mobile-card {
    @apply p-4 sm:p-6 lg:p-8 xl:p-12 rounded-xl sm:rounded-2xl lg:rounded-3xl;
  }

  /* Mobile icon utilities */
  .mobile-icon {
    @apply w-4 h-4 sm:w-5 sm:h-5 lg:w-6 lg:h-6 xl:w-8 xl:h-8;
  }

  .mobile-icon-small {
    @apply w-3 h-3 sm:w-4 sm:h-4 lg:w-5 lg:h-5;
  }

  .mobile-icon-large {
    @apply w-6 h-6 sm:w-8 sm:h-8 lg:w-10 lg:h-10 xl:w-12 xl:h-12;
  }
}

/* Custom mobile menu animations with reduced motion support */
@media (prefers-reduced-motion: no-preference) {
  .mobile-menu-container {
    animation: slideInUpFast 0.3s ease-out;
  }
}

@media (prefers-reduced-motion: reduce) {
  .mobile-menu-container {
    animation: none;
  }
}

/* Enhanced focus styles for interactive elements */
button:focus-visible,
a:focus-visible,
input:focus-visible,
select:focus-visible,
textarea:focus-visible {
  outline: 2px solid #3F72AF;
  outline-offset: 2px;
}

/* High contrast focus styles for better visibility */
@media (prefers-contrast: high) {
  button:focus-visible,
  a:focus-visible,
  input:focus-visible,
  select:focus-visible,
  textarea:focus-visible {
    outline: 3px solid #000;
    outline-offset: 3px;
  }
}

/* Ensure sufficient color contrast for text */
.text-white\/70 {
  color: rgba(255, 255, 255, 0.85);
}

.text-white\/80 {
  color: rgba(255, 255, 255, 0.9);
}

/* Enhanced button states for better accessibility */
button:hover:not(:disabled),
a:hover {
  transform: translateY(-1px);
  transition: transform 0.2s ease;
}

button:active:not(:disabled),
a:active {
  transform: translateY(0);
}

/* Loading states with proper ARIA support */
[aria-busy="true"] {
  cursor: wait;
}

[aria-busy="true"] * {
  pointer-events: none;
}

/* Ensure proper spacing for touch targets on mobile */
@media (max-width: 640px) {
  button,
  a,
  input,
  select,
  textarea {
    min-height: 44px;
    min-width: 44px;
  }
}

/* Mobile-specific improvements */
@media (max-width: 640px) {
  /* Improve mobile scrolling */
  .mobile-scroll {
    -webkit-overflow-scrolling: touch;
    scrollbar-width: thin;
    scrollbar-color: rgba(156, 163, 175, 0.5) transparent;
  }

  .mobile-scroll::-webkit-scrollbar {
    width: 6px;
  }

  .mobile-scroll::-webkit-scrollbar-track {
    background: transparent;
  }

  .mobile-scroll::-webkit-scrollbar-thumb {
    background-color: rgba(156, 163, 175, 0.5);
    border-radius: 3px;
  }

  /* Mobile focus improvements */
  .mobile-focus:focus {
    @apply outline-none ring-2 ring-[#3F72AF] ring-offset-2 ring-offset-[#112D4E];
  }

  /* Mobile hover effects (only on devices that support hover) */
  @media (hover: hover) {
    .hover-only:hover {
      @apply transform scale-105;
    }
  }

  /* Mobile-specific animations */
  @media (prefers-reduced-motion: no-preference) {
    .mobile-animate {
      animation: mobileSlideIn 0.6s cubic-bezier(0.4, 0, 0.2, 1);
    }
  }

  @keyframes mobileSlideIn {
    from {
      opacity: 0;
      transform: translateY(20px);
    }
    to {
      opacity: 1;
      transform: translateY(0);
    }
  }

  /* Mobile typography improvements */
  body {
    font-size: 14px;
    line-height: 1.5;
  }

  /* Mobile spacing improvements */
  .mobile-spacing {
    @apply space-y-3 sm:space-y-4 lg:space-y-6;
  }

  /* Mobile button improvements */
  .mobile-btn {
    @apply w-full sm:w-auto justify-center;
  }

  /* Mobile form improvements */
  .mobile-form {
    @apply space-y-4 sm:space-y-6;
  }

  .mobile-form-grid {
    @apply grid-cols-1 sm:grid-cols-2;
  }
}

/* Tablet-specific improvements */
@media (min-width: 641px) and (max-width: 1024px) {
  .tablet-container {
    @apply px-6 lg:px-8;
  }

  .tablet-text {
    @apply text-base lg:text-lg;
  }

  .tablet-heading {
    @apply text-3xl lg:text-4xl;
  }
}

/* Large screen improvements */
@media (min-width: 1025px) {
  .desktop-container {
    @apply px-8 xl:px-12;
  }

  .desktop-text {
    @apply text-lg xl:text-xl;
  }

  .desktop-heading {
    @apply text-5xl xl:text-6xl;
  }
}

/* Date picker calendar popup positioning */
input[type="date"] {
  position: relative;
}

/* Attempt to position calendar popup above on mobile */
@media (max-width: 768px) {
  input[type="date"] {
    /* Force calendar to appear above on mobile */
    transform: translateY(0);
  }
  
  /* Make date input container position relative for better popup positioning */
  input[type="date"]:focus {
    position: relative;
    z-index: 10;
  }
}

/* Ensure date picker label is fully clickable */
label[for="preferredDate"] {
  cursor: pointer;
  user-select: none;
}

label[for="preferredDate"]:hover {
  opacity: 0.8;
}

/* Print styles for better accessibility */
@media print {
  .no-print {
    display: none !important;
  }

  .print-break {
    page-break-before: always;
  }

  body {
    font-size: 12pt;
    line-height: 1.4;
    color: #000;
    background: #fff;
  }

  a {
    color: #000;
    text-decoration: underline;
  }
}

/* Override autofill styling to prevent blue highlight */
input:-webkit-autofill,
input:-webkit-autofill:hover, 
input:-webkit-autofill:focus, 
input:-webkit-autofill:active{
    -webkit-box-shadow: 0 0 0 1000px white inset !important;
    -webkit-text-fill-color: #112D4E !important;
    transition: background-color 5000s ease-in-out 0s;
}